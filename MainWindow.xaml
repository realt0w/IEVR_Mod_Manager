<Window x:Class="IEVRModManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="IEVR Mod Manager 1.1" 
        Height="800" Width="1200"
        MinHeight="600" MinWidth="1000"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BgBrush}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" MinHeight="450"/>
            <RowDefinition Height="200" MaxHeight="200"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <Label Grid.Row="0" Content="IE:VR Mod Manager 1.2" 
               FontSize="24" FontWeight="Bold" 
               Foreground="{StaticResource TextBrush}"
               HorizontalAlignment="Center" 
               Margin="12,12,12,8"/>

        <!-- Center Frame: Mods List and Controls -->
        <Grid Grid.Row="1" Margin="12,0,12,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*" MinWidth="400"/>
                <ColumnDefinition Width="*" MinWidth="180"/>
            </Grid.ColumnDefinitions>

            <!-- Mods Panel (Left) -->
            <Grid Grid.Column="0" Margin="0,0,8,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <GroupBox Grid.Row="0" Header="Mods (Priority Order)" Padding="8">
                    <ListView x:Name="ModsListView" 
                              SelectionMode="Single"
                              MouseDoubleClick="ModsListView_MouseDoubleClick"
                              SelectionChanged="ModsListView_SelectionChanged">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="âœ“" Width="60">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding EnabledIcon}" 
                                                       FontSize="14"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground" Value="{StaticResource ErrorBrush}"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Enabled}" Value="True">
                                                                <Setter Property="Foreground" Value="{StaticResource SuccessBrush}"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Mod Name" Width="280" DisplayMemberBinding="{Binding DisplayName}"/>
                                <GridViewColumn Header="Version" Width="120" DisplayMemberBinding="{Binding ModVersion}"/>
                                <GridViewColumn Header="Game Ver." Width="120" DisplayMemberBinding="{Binding GameVersion}"/>
                                <GridViewColumn Header="Author" Width="200" DisplayMemberBinding="{Binding Author}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </GroupBox>

                <!-- Quick Actions -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Stretch" Margin="0,8,0,8">
                    <Button Content="ðŸ” Scan Mods" Style="{StaticResource PrimaryButtonStyle}" 
                            Click="ScanMods_Click" Margin="0,0,4,0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"/>
                    <Button Content="ðŸ“‚ Open Mods Folder" Style="{StaticResource PrimaryButtonStyle}" 
                            Click="OpenModsFolder_Click" Margin="4,0,4,0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"/>
                    <TextBlock Text="ðŸ“– Help" 
                               Foreground="{StaticResource AccentBrush}"
                               FontSize="12"
                               Cursor="Hand"
                               VerticalAlignment="Center"
                               Margin="4,0,0,0"
                               MouseEnter="HelpLink_MouseEnter"
                               MouseLeave="HelpLink_MouseLeave"
                               MouseLeftButtonDown="HelpLink_Click"/>
                </StackPanel>

                <!-- Apply Button -->
                <Button Grid.Row="2" Content="âœ“ Apply Changes" 
                        Style="{StaticResource AccentButtonStyle}"
                        Click="ApplyMods_Click" 
                        HorizontalAlignment="Stretch"/>
            </Grid>

            <!-- Controls Panel (Right) -->
            <GroupBox Grid.Column="1" Header="Mod Actions" Padding="10">
                <StackPanel>
                    <Button Content="â¬†ï¸ Move Up" Style="{StaticResource PrimaryButtonStyle}" 
                            Click="MoveUp_Click" Margin="0,0,0,4" HorizontalAlignment="Stretch"/>
                    <Button Content="â¬‡ï¸ Move Down" Style="{StaticResource PrimaryButtonStyle}" 
                            Click="MoveDown_Click" Margin="0,0,0,8" HorizontalAlignment="Stretch"/>
                    
                    <Separator Margin="0,0,0,8"/>
                    
                    <Button Content="âœ… Enable All" Style="{StaticResource PrimaryButtonStyle}" 
                            Click="EnableAll_Click" Margin="0,0,0,4" HorizontalAlignment="Stretch"/>
                    <Button Content="âŒ Disable All" Style="{StaticResource PrimaryButtonStyle}" 
                            Click="DisableAll_Click" HorizontalAlignment="Stretch"/>
                </StackPanel>
            </GroupBox>
        </Grid>

        <!-- Log Panel -->
        <GroupBox Grid.Row="2" Header="Activity Log" Margin="12,8,12,12" Padding="8">
            <TextBox x:Name="LogTextBox" 
                     IsReadOnly="True" 
                     TextWrapping="Wrap"
                     FontFamily="{StaticResource FontMono}"
                     FontSize="11"
                     Background="{StaticResource BgBrush}"
                     Foreground="{StaticResource TextBrush}"
                     BorderThickness="0"
                     AcceptsReturn="True"
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Disabled"/>
        </GroupBox>

        <!-- Bottom Frame: Downloads, Configuration, Exit -->
        <Grid Grid.Row="3" Margin="12,0,12,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" Content="ðŸ“¥ Downloads" 
                    Style="{StaticResource PrimaryButtonStyle}" 
                    Click="Downloads_Click" 
                    Width="180" Margin="0,0,6,0"/>
            <Button Grid.Column="1" Content="âš™ï¸ Configuration" 
                    Style="{StaticResource PrimaryButtonStyle}" 
                    Click="Configuration_Click" 
                    Width="180" Margin="6,0,0,0"/>
            <Button Grid.Column="3" Content="âœ• Exit" 
                    Style="{StaticResource PrimaryButtonStyle}" 
                    Click="Exit_Click" 
                    Width="140"/>
        </Grid>
    </Grid>
</Window>

